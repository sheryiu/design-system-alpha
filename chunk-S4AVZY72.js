import{a as re}from"./chunk-YYQIWZTI.js";import{a as ne}from"./chunk-CDNMNCED.js";import"./chunk-KPDSPZS3.js";import{Aa as l,B as g,Ba as f,Bc as z,Cc as G,D as C,Dc as K,Ea as D,F as v,Fa as b,Ga as s,Kb as $,L as m,La as u,N as F,Nb as H,Oa as E,Ob as R,Pa as T,Pb as j,Pc as Q,Qa as p,Qc as W,Ra as A,S as y,T as _,Ta as M,Ua as w,Vc as X,Wb as I,_b as N,bc as L,ca as o,cc as U,dc as J,eb as B,fc as O,h as x,jd as Y,kc as P,kd as Z,la as k,lc as q,na as c,pd as ee,qa as d,qd as te,rd as ie,ua as S,xb as V,za as a}from"./chunk-3M4ZY3CN.js";import"./chunk-6RDLFHTQ.js";import"./chunk-CWTPBX7D.js";var h=()=>({}),oe=()=>["base","iceborne"],ae=t=>({enum:t});function le(t,n){if(t&1&&(a(0,"h2",5),u(1),l()),t&2){let r=n;o(),E("",r.name==null?null:r.name.jp," / ",r.name==null?null:r.name.en,"")}}function de(t,n){if(t&1){let r=D();a(0,"button",15),b("click",function(){y(r);let i=s(2);return _(i.onCancel())}),u(1,"Cancel"),l(),a(2,"button",16),b("click",function(){y(r);let i=s(2);return _(i.onSave())}),u(3,"Save"),l()}}function pe(t,n){if(t&1&&(a(0,"div",3)(1,"div",4),c(2,le,2,2,"h2",5),M(3,"async"),a(4,"div",6),c(5,de,4,0),l()(),f(6,"phead-divider"),a(7,"phead-fieldset",7),f(8,"phead-field-def",8)(9,"phead-field-def",9)(10,"phead-field-def",10)(11,"phead-field-def",11)(12,"phead-field-def",12)(13,"phead-field-def",13)(14,"phead-field-def",14),l()()),t&2){let r,e=s();o(2),S(2,(r=w(3,8,e.data$))?2:-1,r),o(3),S(5,e.formControl.dirty?5:-1),o(2),d("formControl",e.formControl),o(),d("fieldConfig",p(10,h)),o(),d("fieldConfig",p(11,h)),o(),d("fieldConfig",p(12,h)),o(),d("fieldConfig",A(14,ae,p(13,oe))),o(),d("fieldConfig",p(16,h))}}var Ee=(()=>{let n=class n extends O{constructor(){super(),this.route=m(V),this.service=m(re),this.formBuilder=m(L),this.id$=this.route.paramMap.pipe(x(e=>e.get("armorSetId"))),this.data$=this.id$.pipe(g(e=>this.service.getOne(e))),this.formControl=this.formBuilder.control(null),this.onCancel=this.createEffectFn(e=>e.pipe(v(this.data$),C(([,i])=>this.updateForm(i)))),this.onSave=this.createEffectFn(e=>e.pipe(v(this.id$),C(([,i])=>this.service.update(i,this.formControl.getRawValue())))),this.data$.pipe(j()).subscribe(e=>{this.updateForm(e)})}updateForm(e){e&&this.formControl.reset(e)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=F({type:n,selectors:[["app-armor-set-detail"]],standalone:!0,features:[k,T],decls:6,vars:0,consts:[["pheadSidebarContainer","","cdkVirtualScrollingElement","","cdkScrollable",""],["pheadSidebarBreadcrumbs",""],["class","py-4 flex flex-col gap-4",4,"pheadSidebarMain"],[1,"py-4","flex","flex-col","gap-4"],[1,"flex","justify-between","items-center","px-4","gap-4"],[1,"text-primary-800","dark:text-primary-200"],[1,"flex","gap-2","items-center"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string",3,"fieldConfig"],["key","name>jp","label","Japanese Name","fieldType","string",3,"fieldConfig"],["key","rarity","label","Rarity","fieldType","number",3,"fieldConfig"],["key","rank","label","Rank","fieldType","string",3,"fieldConfig"],["key","setBonusId","label","Set Bonus","fieldType","string",3,"fieldConfig"],["key","createdAt","label","Created At","fieldType","date-time"],["key","updatedAt","label","Updated At","fieldType","date-time"],["pheadHoverable","",1,"rounded-1","px-3","py-2",3,"click"],["pheadHoverable","","pheadHardSurface","","color","primary",1,"rounded-1","px-3","py-2",3,"click"]],template:function(i,me){i&1&&(a(0,"phead-layered-container")(1,"div",0)(2,"div",1),f(3,"phead-breadcrumbs"),l(),a(4,"phead-sidebar-content"),c(5,pe,15,17,"div",2),l()()())},dependencies:[ne,q,P,z,B,U,I,J,N,X,R,$,H,ie,Z,Y,te,ee,W,Q,K,G]});let t=n;return t})();export{Ee as ArmorSetDetailComponent};
