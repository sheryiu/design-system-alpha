import{a as H}from"./chunk-YYQIWZTI.js";import{a as V}from"./chunk-CDNMNCED.js";import"./chunk-KPDSPZS3.js";import{Aa as l,Ad as Ie,B as j,Ba as u,Bc as Se,Bd as je,Cd as Qe,D as f,Dc as ve,Dd as Pe,Ea as S,Ed as ze,Fa as v,Fd as qe,Ga as m,Gd as Ge,Ha as z,Hd as Je,Ia as q,Id as Ye,Ja as G,Jb as ie,Ka as J,Kb as re,Kc as ye,L as _,La as c,Lb as w,Lc as xe,Mb as ae,Mc as ge,N as g,Na as Y,Nb as ne,Oa as K,Ob as oe,Pa as F,Pc as Te,Qa as y,Qb as M,Qc as De,Ra as x,S as b,T as C,Ta as U,Tb as le,Ua as W,Ub as de,Vc as Fe,W as T,Wb as pe,Xb as ce,Yb as me,Zb as se,_b as ue,ab as L,bc as _e,ca as d,d as B,db as X,eb as Z,fc as $,i as O,jd as we,kd as $e,la as D,lc as k,ld as ke,mc as he,md as Ae,na as s,nc as fe,nd as Ee,od as Ve,p as N,pd as He,qa as o,qd as Le,r as R,rd as E,sa as Q,ua as P,v as I,vd as Me,wd as Be,xb as ee,xc as be,xd as Oe,yc as Ce,yd as Ne,za as a,zb as te,zc as A,zd as Re}from"./chunk-3M4ZY3CN.js";import"./chunk-6RDLFHTQ.js";import"./chunk-CWTPBX7D.js";var Ze=e=>({"!text-primary-950 dark:!text-primary-50":e}),et=()=>({}),tt=()=>["base","iceborne"],it=e=>({enum:e});function rt(e,i){if(e&1){let t=S();a(0,"form",4),v("ngSubmit",function(){b(t);let r=m();return C(r.onSubmit())}),a(1,"phead-fieldset",5),u(2,"phead-field-def",6)(3,"phead-field-def",7)(4,"phead-field-def",8)(5,"phead-field-def",9),l(),a(6,"button",10),c(7,"Add"),l()()}if(e&2){let t=m();d(),o("formControl",t.formControl),d(3),o("fieldConfig",y(3,et)),d(),o("fieldConfig",x(5,it,y(4,tt)))}}var Ke=(()=>{let i=class i extends ${constructor(){super(...arguments),this.service=_(H),this.builder=_(_e),this.formControl=this.builder.control(null),this.onSubmit=this.createEffectFn(n=>n.pipe(N(()=>this.formControl.value!=null),I(()=>this.service.create(this.formControl.value).pipe(R(()=>B))),f(()=>this.formControl.reset())))}};i.\u0275fac=(()=>{let n;return function(p){return(n||(n=T(i)))(p||i)}})(),i.\u0275cmp=g({type:i,selectors:[["mhw-drawer-create"]],standalone:!0,features:[D,F],decls:8,vars:6,consts:[["trigger","accordionTrigger"],["pheadSidebarDrawerSection",""],["pheadSidebarDrawerSectionHeader","","pheadHoverable","","role","button","type","button","pheadAccordionTrigger","","opened","",3,"ngClass"],["pheadSidebarDrawerSectionContent",""],["pheadSidebarDrawerSectionContent","",3,"ngSubmit"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string"],["key","name>jp","label","Japanese Name","fieldType","string"],["key","rarity","label","Rarity","fieldType","number",3,"fieldConfig"],["key","rank","label","Rank","fieldType","string",3,"fieldConfig"],["pheadHoverable","","role","button","type","submit",1,"rounded-1","mx-1","py-2","text-sm","text-primary-700","dark:text-primary-500"]],template:function(r,p){if(r&1&&(a(0,"div",1)(1,"button",2,0)(3,"i"),c(4,"add"),l(),a(5,"p"),c(6,"Insert New"),l()(),s(7,rt,8,7,"form",3),l()),r&2){let h=J(2);Q("bg-drawer-content",h.isOpened$$()),d(),o("ngClass",x(4,Ze,!h.isOpened$$())),d(6),P(7,h.isOpened$$()?7:-1)}},dependencies:[V,X,k,De,Te,ve,se,pe,ce,me,ue,A,be,E,Ae,Ee,Ve]});let e=i;return e})();var at=()=>["name","rarity"],nt=e=>[e];function ot(e,i){if(e&1){let t=S();a(0,"div",13)(1,"phead-input-field")(2,"input",14),v("input",function(r){b(t);let p=m(3);return C(p.onChangeFilter({name:r.currentTarget.value}))}),l()()()}if(e&2){let t,n=m(3);o("cdkTrapFocusAutoCapture",!0),d(2),o("value",(t=n.filterByName$$())!==null&&t!==void 0?t:"")}}function lt(e,i){if(e&1&&(a(0,"phead-table-header-cell",11),c(1," Name "),s(2,ot,3,2,"div",12),l()),e&2){let t=m(2);o("filtered",t.filterByName$$()!=null)}}function dt(e,i){e&1&&(a(0,"div",19)(1,"i",20),c(2,"sort"),l(),a(3,"span",21),c(4,"1 to 9"),l()())}function pt(e,i){e&1&&(a(0,"div",19)(1,"i",22),c(2,"sort"),l(),a(3,"span",21),c(4,"9 to 1"),l()())}function ct(e,i){if(e&1){let t=S();a(0,"phead-segmented-options",17),v("valueChange",function(r){b(t);let p=m(3);return C(p.onChangeSort(["rarity",r]))}),s(1,dt,5,0,"div",18)(2,pt,5,0,"div",18),l()}if(e&2){let t=m(3);o("value",t.sortByRarity$$()),d(),o("pheadOption","asc"),d(),o("pheadOption","desc")}}function mt(e,i){if(e&1&&(a(0,"phead-table-header-cell",15),c(1," Rarity "),s(2,ct,3,3,"phead-segmented-options",16),l()),e&2){let t=m(2);o("sortedAsc",t.sortByRarity$$()==="asc")("sortedDesc",t.sortByRarity$$()==="desc")}}function st(e,i){if(e&1&&(a(0,"phead-table-cell"),c(1),l()),e&2){let t=i.$implicit;d(),K(" ",t.name==null?null:t.name.jp," / ",t.name==null?null:t.name.en," ")}}function ut(e,i){if(e&1&&(a(0,"phead-table-cell"),c(1),l()),e&2){let t=i.$implicit;d(),Y(" ",t.rarity," ")}}function _t(e,i){if(e&1&&u(0,"phead-table-row",23),e&2){let t=i.$implicit;o("route",x(2,nt,t.id))("item",t)}}function ht(e,i){if(e&1&&(a(0,"phead-table",4),s(1,lt,3,1,"phead-table-header-cell",5)(2,mt,3,2,"phead-table-header-cell",6)(3,st,2,2,"phead-table-cell",7)(4,ut,2,1,"phead-table-cell",7),a(5,"cdk-virtual-scroll-viewport",8)(6,"phead-table-body"),u(7,"phead-table-header-row"),s(8,_t,1,4,"phead-table-row",9),U(9,"async"),a(10,"phead-table-footer-row",10),u(11,"phead-table-simple-footer"),l()()()()),e&2){let t=m();o("columns",y(10,at)),d(),o("pheadTableHeaderCellDef","name"),d(),o("pheadTableHeaderCellDef","rarity"),d(),o("pheadTableCellDef","name"),d(),o("pheadTableCellDef","rarity"),d(),o("extraHeight",48*2),d(3),o("cdkVirtualForOf",W(9,8,t.data$))("cdkVirtualForTrackBy",t.trackingFn)}}function ft(e,i){e&1&&u(0,"mhw-drawer-create")}var Qt=(()=>{let i=class i extends ${constructor(){super(...arguments),this.service=_(H),this.router=_(te),this.route=_(ee),this.data$=O({filter:M(this.service.mainListFilter$$),sort:M(this.service.mainListSort$$)}).pipe(j(({filter:n,sort:r})=>this.service.list(n,r))),this.filterByName$$=L(()=>this.service.mainListFilter$$().name),this.sortByRarity$$=L(()=>this.service.mainListSort$$().rarity),this.onChangeSort=this.createEffectFn(n=>n.pipe(f(([r,p])=>{this.service.mainListSort$$.set({[r]:p})}))),this.onChangeFilter=this.createEffectFn(n=>n.pipe(f(r=>{this.service.mainListFilter$$.set(r)}),f()))}onHeaderClick(){this.router.navigate(["./"],{relativeTo:this.route}),this.scrollViewport?.scrollToOffset(0,"smooth")}trackingFn(n,r){return r.id}};i.\u0275fac=(()=>{let n;return function(p){return(n||(n=T(i)))(p||i)}})(),i.\u0275cmp=g({type:i,selectors:[["app-armor-set-list"]],viewQuery:function(r,p){if(r&1&&z(w,5),r&2){let h;q(h=G())&&(p.scrollViewport=h.first)}},standalone:!0,features:[D,F],decls:8,vars:0,consts:[["pheadSidebarContainer","","cdkVirtualScrollingElement","","cdkScrollable",""],["pheadSidebarBreadcrumbs",""],["itemHeight","48",3,"columns",4,"pheadSidebarMain"],[4,"pheadSidebarDrawer"],["itemHeight","48",3,"columns"],[3,"filtered",4,"pheadTableHeaderCellDef"],[3,"sortedAsc","sortedDesc",4,"pheadTableHeaderCellDef"],[4,"pheadTableCellDef"],["itemSize","",3,"extraHeight"],["pheadHoverable","",3,"route","item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"px-4","py-1"],[3,"filtered"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture",4,"pheadTableHeaderCellFilter"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture"],["type","search","placeholder","Type to search",3,"input","value"],[3,"sortedAsc","sortedDesc"],["color","accent",3,"value","valueChange",4,"pheadTableHeaderCellSort"],["color","accent",3,"valueChange","value"],["class","flex items-center gap-1",4,"pheadOption"],[1,"flex","items-center","gap-1"],[1,"icon-4","rotate-180","-scale-x-100"],[1,"text-sm/[0]","font-bold"],[1,"icon-4"],["pheadHoverable","",3,"route","item"]],template:function(r,p){r&1&&(a(0,"phead-layered-container")(1,"div",0)(2,"div",1),u(3,"phead-breadcrumbs"),l(),a(4,"phead-sidebar-content"),s(5,ht,12,11,"phead-table",2),a(6,"phead-accordion"),s(7,ft,1,0,"mhw-drawer-create",3),l()()()())},dependencies:[V,k,fe,he,Se,Z,Ke,Fe,Ye,Oe,Je,Ne,qe,ze,Re,Me,Pe,Be,je,Qe,Ie,Ge,E,$e,we,Le,He,ke,ge,xe,ye,A,Ce,oe,re,ie,ae,w,ne,de,le],encapsulation:2});let e=i;return e})();export{Qt as ArmorSetListComponent};
