import{a as ue}from"./chunk-HKGMQ5GA.js";import"./chunk-YYQIWZTI.js";import{a as he}from"./chunk-X6UDUAUK.js";import{a as se}from"./chunk-B7DWYOFW.js";import{a as fe}from"./chunk-CDNMNCED.js";import"./chunk-KPDSPZS3.js";import{$b as U,Aa as a,B as S,Ba as p,Bc as W,Ca as k,Cc as X,D as u,Da as w,Dc as Y,Ea as A,Ec as Z,F as h,Fa as y,Fc as ee,Ga as s,Gc as te,Hc as ie,Ic as re,Ka as F,L as f,La as c,Ma as M,N as x,Oa as I,Pa as $,Pb as P,Pc as oe,Qc as ne,Ra as B,S as _,T as v,Ta as N,Ua as G,Vc as ae,Wb as R,Xa as V,Xb as L,_b as O,ac as J,bc as q,ca as d,eb as j,fc as z,h as b,jd as de,kc as K,kd as le,la as D,lc as Q,na as m,pd as pe,qa as l,qd as me,rd as ce,ua as C,va as g,xa as E,xb as H,ya as T,za as n}from"./chunk-3M4ZY3CN.js";import"./chunk-6RDLFHTQ.js";import"./chunk-CWTPBX7D.js";var _e=t=>({enum:t});function ve(t,i){if(t&1&&(n(0,"h2",6),c(1),a()),t&2){let r=i;d(),I("",r.name==null?null:r.name.jp," / ",r.name==null?null:r.name.en,"")}}function Ce(t,i){if(t&1){let r=A();n(0,"button",20),y("click",function(){_(r);let o=s(2);return v(o.onCancel())}),c(1,"Cancel"),a(),n(2,"button",21),y("click",function(){_(r);let o=s(2);return v(o.onSave())}),c(3,"Save"),a()}}function ye(t,i){if(t&1&&p(0,"phead-field-def",22),t&2){let r=i.$index;l("key","decorationSlots>"+r)("label","\u21B3 Decoration Slot #"+r)}}function be(t,i){if(t&1&&(n(0,"div",4)(1,"div",5),m(2,ve,2,2,"h2",6),N(3,"async"),n(4,"div",7),m(5,Ce,4,0),a()(),p(6,"phead-divider"),n(7,"phead-fieldset",8),p(8,"phead-field-def",9)(9,"phead-field-def",10)(10,"phead-field-def",11)(11,"phead-field-def",12)(12,"phead-field-def",13)(13,"phead-field-def",14)(14,"phead-field-def",15)(15,"phead-field-def",16),E(16,ye,1,2,"phead-field-def",17,g),p(18,"phead-field-def",18)(19,"phead-field-def",19),a()()),t&2){let r,e=s(),o=F(7);d(2),C(2,(r=G(3,5,e.data$))?2:-1,r),d(3),C(5,e.formControl.dirty?5:-1),d(2),l("formControl",e.formControl),d(3),l("fieldConfig",B(7,_e,e.armorPosition)),d(),l("templateRef",o),d(5),T(e.formControl.value==null?null:e.formControl.value.decorationSlots)}}function Se(t,i){if(t&1&&(n(0,"div"),c(1),a()),t&2){let r=i.$implicit;d(),M(r)}}function xe(t,i){t&1&&(n(0,"phead-search-dropdown"),p(1,"demo-armor-set-search"),a())}function De(t,i){if(t&1&&(k(0,23),n(1,"phead-dropdown",24),m(2,Se,2,1,"div",25)(3,xe,2,0,"phead-search-dropdown",26),a(),w()),t&2){let r=i.key,e=i.formGroup;l("formGroup",e),d(),l("formControlName",r)}}var Re=(()=>{let i=class i extends z{constructor(){super(),this.service=f(se),this.builder=f(q),this.route=f(H),this.id$=this.route.paramMap.pipe(b(e=>e.get("armorId"))),this.data$=this.id$.pipe(S(e=>this.service.getOne(e))),this.formControl=this.builder.control(null),this.armorPosition=Object.values(he),this.onCancel=this.createEffectFn(e=>e.pipe(h(this.data$),u(([,o])=>this.updateForm(o)))),this.onSave=this.createEffectFn(e=>e.pipe(h(this.id$),u(([,o])=>this.service.update(o,this.formControl.getRawValue())))),this.data$.pipe(P()).subscribe(e=>{this.updateForm(e)})}updateForm(e){e&&this.formControl.reset(e)}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=x({type:i,selectors:[["app-armor-detail-edit"]],standalone:!0,features:[D,$],decls:8,vars:0,consts:[["armorSetIdInput",""],["pheadSidebarContainer",""],["pheadSidebarBreadcrumbs",""],["class","py-4 flex flex-col gap-4",4,"pheadSidebarMain"],[1,"py-4","flex","flex-col","gap-4"],[1,"flex","justify-between","items-center","px-4","gap-4"],[1,"text-primary-800","dark:text-primary-200"],[1,"flex","gap-2","items-center"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string"],["key","name>jp","label","Japanese Name","fieldType","string"],["key","position","label","Position","fieldType","string",3,"fieldConfig"],["key","armorSetId","label","Armor Set","fieldType","string",3,"templateRef"],["key","baseDef","label","Base Defense","fieldType","number"],["key","maxDef","label","Max Defense","fieldType","number"],["key","maxLevel","label","Max Level","fieldType","number"],["key","decorationSlots","label","Decoration Slots","fieldType","array"],["fieldType","number"],["key","createdAt","label","Created At","fieldType","date-time"],["key","updatedAt","label","Updated At","fieldType","date-time"],["pheadHoverable","",1,"rounded-1","px-3","py-2",3,"click"],["pheadHoverable","","pheadHardSurface","","color","primary",1,"rounded-1","px-3","py-2",3,"click"],["fieldType","number",3,"key","label"],[3,"formGroup"],[3,"formControlName"],[4,"pheadDropdownTrigger"],[4,"pheadDropdownOverlay"]],template:function(o,ge){o&1&&(n(0,"phead-layered-container")(1,"div",1)(2,"div",2),p(3,"phead-breadcrumbs"),a(),n(4,"phead-sidebar-content"),m(5,be,20,9,"div",3),a()()(),m(6,De,4,2,"ng-template",null,0,V))},dependencies:[fe,Q,K,W,j,ae,ce,le,de,me,pe,ne,oe,Y,R,L,O,U,J,re,te,Z,ee,ie,ue,X]});let t=i;return t})();export{Re as ArmorDetailEditComponent};
