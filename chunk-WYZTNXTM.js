import{a as R}from"./chunk-HKGMQ5GA.js";import"./chunk-YYQIWZTI.js";import{a as lt}from"./chunk-X6UDUAUK.js";import{a as N}from"./chunk-B7DWYOFW.js";import{a as O}from"./chunk-CDNMNCED.js";import"./chunk-KPDSPZS3.js";import{$b as xe,Aa as o,Ad as Xe,B as q,Ba as _,Bc as Fe,Bd as Ze,Ca as K,Cd as et,D as S,Da as X,Dc as Ee,Dd as tt,Ea as C,Ec as V,Ed as rt,Fa as b,Fc as k,Fd as it,Ga as c,Gc as H,Gd as at,Ha as Z,Hc as M,Hd as ot,Ia as ee,Ic as B,Id as nt,Ja as te,Jb as me,Ka as P,Kb as ce,Kc as Le,L as h,La as p,Lb as F,Lc as Ve,Ma as T,Mb as se,Mc as ke,N as y,Na as re,Nb as _e,Nc as He,Oa as ie,Ob as he,Pa as A,Pc as Me,Qa as j,Qb as G,Qc as Be,Ra as g,S as u,T as f,Ta as ae,Tb as ue,Ua as oe,Ub as fe,Vc as Ie,W as w,Wb as Ce,Wc as Oe,Xa as ne,Xb as be,Yb as ve,Zb as Se,_b as ge,ab as x,ac as ye,bc as we,ca as d,d as Q,db as $,eb as le,fc as E,i as U,jd as Ne,kd as Re,la as D,lc as L,ld as Pe,mc as De,md as je,na as s,nc as Te,nd as Ge,od as Qe,pd as Ue,qa as a,qd as We,r as W,rd as I,sa as J,ua as Y,v as z,vd as ze,wd as qe,xb as de,xc as Ae,xd as Je,yd as Ye,za as i,zb as pe,zc as $e,zd as Ke}from"./chunk-3M4ZY3CN.js";import"./chunk-6RDLFHTQ.js";import"./chunk-CWTPBX7D.js";var st=e=>({"!text-primary-950 dark:!text-primary-50":e}),_t=e=>({enum:e});function ht(e,r){if(e&1){let t=C();i(0,"form",5),b("ngSubmit",function(){u(t);let l=c();return f(l.onSubmit())}),i(1,"phead-fieldset",6),_(2,"phead-field-def",7)(3,"phead-field-def",8)(4,"phead-field-def",9)(5,"phead-field-def",10),o(),i(6,"button",11),p(7,"Add"),o()()}if(e&2){let t=c(),n=P(9);d(),a("formControl",t.formControl),d(3),a("fieldConfig",g(3,_t,t.armorPosition)),d(),a("templateRef",n)}}function ut(e,r){if(e&1&&(i(0,"div"),p(1),o()),e&2){let t=r.$implicit;d(),T(t)}}function ft(e,r){e&1&&(i(0,"phead-search-dropdown"),_(1,"demo-armor-set-search"),o())}function Ct(e,r){if(e&1){let t=C();K(0,12),i(1,"phead-dropdown",13),b("valueChange",function(){let l=u(t).valueUpdated$;return f(l.next())}),s(2,ut,2,1,"div",14)(3,ft,2,0,"phead-search-dropdown",15),o(),X()}if(e&2){let t=r.key,n=r.formGroup;a("formGroup",n),d(),a("formControlName",t)}}var dt=(()=>{let r=class r extends E{constructor(){super(...arguments),this.service=h(N),this.builder=h(we),this.dialog=h(Oe),this.formControl=this.builder.nonNullable.control(null),this.armorPosition=Object.values(lt),this.onSubmit=this.createEffectFn(n=>n.pipe(z(()=>this.service.create(this.formControl.getRawValue()).pipe(W(l=>(this.dialog.open({title:"Error",icon:"error",details:l.message,dialogClass:"error-dialog"}),Q)))),S(()=>this.formControl.reset())))}};r.\u0275fac=(()=>{let n;return function(m){return(n||(n=w(r)))(m||r)}})(),r.\u0275cmp=y({type:r,selectors:[["mhw-armor-list-drawer-create"]],standalone:!0,features:[D,A],decls:10,vars:6,consts:[["trigger","accordionTrigger"],["armorSetIdInput",""],["pheadSidebarDrawerSection",""],["pheadSidebarDrawerSectionHeader","","pheadHoverable","","role","button","type","button","pheadAccordionTrigger","","opened","",3,"ngClass"],["pheadSidebarDrawerSectionContent",""],["pheadSidebarDrawerSectionContent","",3,"ngSubmit"],[3,"formControl"],["key","name>en","label","English Name","fieldType","string"],["key","name>jp","label","Japanese Name","fieldType","string"],["key","position","label","Position","fieldType","string",3,"fieldConfig"],["key","armorSetId","label","Armor Set","fieldType","string",3,"templateRef"],["pheadHoverable","","role","button","type","submit",1,"rounded-1","mx-1","py-2","text-sm","text-primary-700","dark:text-primary-500"],[3,"formGroup"],[3,"valueChange","formControlName"],[4,"pheadDropdownTrigger"],[4,"pheadDropdownOverlay"]],template:function(l,m){if(l&1&&(i(0,"div",2)(1,"button",3,0)(3,"i"),p(4,"add"),o(),i(5,"p"),p(6,"Insert New"),o()(),s(7,ht,8,5,"form",4),o(),s(8,Ct,4,2,"ng-template",null,1,ne)),l&2){let v=P(2);J("bg-drawer-content",v.isOpened$$()),d(),a("ngClass",g(4,st,!v.isOpened$$())),d(6),Y(7,v.isOpened$$()?7:-1)}},dependencies:[O,$,L,$e,Ae,I,je,Ge,Qe,Be,Me,Ee,Se,Ce,be,ve,ge,xe,ye,B,H,V,k,M,R]});let e=r;return e})();var bt=()=>["name","armorSetId","createdAt"],vt=()=>["50%","30%","1fr"],St=e=>({"text-secondary":e}),gt=e=>[e];function xt(e,r){if(e&1){let t=C();i(0,"div",14)(1,"phead-input-field")(2,"input",15),b("input",function(l){u(t);let m=c(3);return f(m.onChangeFilter({name:l.currentTarget.value}))}),o()()()}if(e&2){let t,n=c(3);a("cdkTrapFocusAutoCapture",!0),d(2),a("value",(t=n.filterByName$$())!==null&&t!==void 0?t:"")}}function yt(e,r){if(e&1&&(i(0,"phead-table-header-cell",12),p(1," Name "),s(2,xt,3,2,"div",13),o()),e&2){let t=c(2);a("filtered",t.filterByName$$()!=null)}}function wt(e,r){e&1&&(i(0,"div",21)(1,"i",22),p(2,"sort"),o(),i(3,"span",23),p(4,"1 to 9"),o()())}function Dt(e,r){e&1&&(i(0,"div",21)(1,"i",24),p(2,"sort"),o(),i(3,"span",23),p(4,"9 to 1"),o()())}function Tt(e,r){if(e&1){let t=C();i(0,"phead-segmented-options",19),b("valueChange",function(l){u(t);let m=c(3);return f(m.onChangeSort(["armorSetId",l]))}),s(1,wt,5,0,"div",20)(2,Dt,5,0,"div",20),o()}if(e&2){let t=c(3);a("value",t.sortByArmorSet$$()),d(),a("pheadOption","asc"),d(),a("pheadOption","desc")}}function At(e,r){if(e&1&&(i(0,"div",28),p(1),o()),e&2){let t=r.$implicit;a("ngClass",g(2,St,!t)),d(),T(t||"Type to search")}}function $t(e,r){e&1&&(i(0,"phead-search-dropdown"),_(1,"demo-armor-set-search",29),o()),e&2&&(d(),a("canUnset",!0))}function Ft(e,r){if(e&1){let t=C();i(0,"phead-dropdown",25),b("valueChange",function(l){u(t);let m=c(3);return f(m.onChangeFilter({armorSetId:l}))}),s(1,At,2,4,"div",26)(2,$t,2,1,"phead-search-dropdown",27),o()}if(e&2){let t=c(3);a("value",t.filterByArmorSet$$())}}function Et(e,r){if(e&1&&(i(0,"phead-table-header-cell",16),p(1," Armor Set "),s(2,Tt,3,3,"phead-segmented-options",17)(3,Ft,3,1,"phead-dropdown",18),o()),e&2){let t=c(2);a("filtered",t.filterByArmorSet$$()!=null)("sortedAsc",t.sortByArmorSet$$()==="asc")("sortedDesc",t.sortByArmorSet$$()==="desc")}}function Lt(e,r){e&1&&(i(0,"div",21)(1,"i",22),p(2,"sort"),o(),i(3,"span",23),p(4,"1 to 9"),o()())}function Vt(e,r){e&1&&(i(0,"div",21)(1,"i",24),p(2,"sort"),o(),i(3,"span",23),p(4,"9 to 1"),o()())}function kt(e,r){if(e&1){let t=C();i(0,"phead-segmented-options",19),b("valueChange",function(l){u(t);let m=c(3);return f(m.onChangeSort(["createdAt",l]))}),s(1,Lt,5,0,"div",20)(2,Vt,5,0,"div",20),o()}if(e&2){let t=c(3);a("value",t.sortByCreatedAt$$()),d(),a("pheadOption","asc"),d(),a("pheadOption","desc")}}function Ht(e,r){if(e&1&&(i(0,"phead-table-header-cell",30),p(1," Created "),s(2,kt,3,3,"phead-segmented-options",17),o()),e&2){let t=c(2);a("sortedAsc",t.sortByCreatedAt$$()==="asc")("sortedDesc",t.sortByCreatedAt$$()==="desc")}}function Mt(e,r){if(e&1&&(i(0,"phead-table-cell"),p(1),o()),e&2){let t=r.$implicit;d(),ie(" ",t.name==null?null:t.name.jp," / ",t.name==null?null:t.name.en," ")}}function Bt(e,r){if(e&1&&(i(0,"phead-table-cell"),p(1),o()),e&2){let t=r.$implicit;d(),re(" ",t.armorSetId," ")}}function It(e,r){if(e&1&&(i(0,"phead-table-cell"),_(1,"phead-time-display",31),o()),e&2){let t=r.$implicit;d(),a("date",t.createdAt)}}function Ot(e,r){if(e&1&&_(0,"phead-table-row",32),e&2){let t=r.$implicit;a("route",g(2,gt,t.id))("item",t)}}function Nt(e,r){if(e&1&&(i(0,"phead-table",4),s(1,yt,3,1,"phead-table-header-cell",5)(2,Et,4,3,"phead-table-header-cell",6)(3,Ht,3,2,"phead-table-header-cell",7)(4,Mt,2,2,"phead-table-cell",8)(5,Bt,2,1,"phead-table-cell",8)(6,It,2,1,"phead-table-cell",8),i(7,"cdk-virtual-scroll-viewport",9)(8,"phead-table-body"),_(9,"phead-table-header-row"),s(10,Ot,1,4,"phead-table-row",10),ae(11,"async"),i(12,"phead-table-footer-row",11),_(13,"phead-table-simple-footer"),o()()()()),e&2){let t=c();a("columns",j(13,bt))("columnWidths",j(14,vt)),d(),a("pheadTableHeaderCellDef","name"),d(),a("pheadTableHeaderCellDef","armorSetId"),d(),a("pheadTableHeaderCellDef","createdAt"),d(),a("pheadTableCellDef","name"),d(),a("pheadTableCellDef","armorSetId"),d(),a("pheadTableCellDef","createdAt"),d(),a("extraHeight",48*2),d(3),a("cdkVirtualForOf",oe(11,11,t.data$))("cdkVirtualForTrackBy",t.trackingFn)}}function Rt(e,r){e&1&&_(0,"mhw-armor-list-drawer-create")}var fr=(()=>{let r=class r extends E{constructor(){super(...arguments),this.service=h(N),this.router=h(pe),this.route=h(de),this.data$=U({filter:G(this.service.mainListFilter$$),sort:G(this.service.mainListSort$$)}).pipe(q(({filter:n,sort:l})=>this.service.list(n,l))),this.filterByName$$=x(()=>this.service.mainListFilter$$().name),this.filterByArmorSet$$=x(()=>this.service.mainListFilter$$().armorSetId),this.sortByArmorSet$$=x(()=>this.service.mainListSort$$().armorSetId),this.sortByCreatedAt$$=x(()=>this.service.mainListSort$$().createdAt),this.onChangeSort=this.createEffectFn(n=>n.pipe(S(([l,m])=>{this.service.mainListSort$$.set({[l]:m})}))),this.onChangeFilter=this.createEffectFn(n=>n.pipe(S(l=>{this.service.mainListFilter$$.set(l)}),S()))}onHeaderClick(){this.router.navigate(["./"],{relativeTo:this.route}),this.scrollViewport?.scrollToOffset(0,"smooth")}trackingFn(n,l){return l.id}pickArmorSet(n){return n.id}};r.\u0275fac=(()=>{let n;return function(m){return(n||(n=w(r)))(m||r)}})(),r.\u0275cmp=y({type:r,selectors:[["mhw-armor-list"]],viewQuery:function(l,m){if(l&1&&Z(F,5),l&2){let v;ee(v=te())&&(m.scrollViewport=v.first)}},standalone:!0,features:[D,A],decls:7,vars:0,consts:[["pheadSidebarContainer","","cdkVirtualScrollingElement","","cdkScrollable",""],["pheadSidebarBreadcrumbs",""],["itemHeight","48",3,"columns","columnWidths",4,"pheadSidebarMain"],[4,"pheadSidebarDrawer"],["itemHeight","48",3,"columns","columnWidths"],[3,"filtered",4,"pheadTableHeaderCellDef"],[3,"filtered","sortedAsc","sortedDesc",4,"pheadTableHeaderCellDef"],["rightAligned","",3,"sortedAsc","sortedDesc",4,"pheadTableHeaderCellDef"],[4,"pheadTableCellDef"],["itemSize","",3,"extraHeight"],["pheadHoverable","",3,"route","item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"px-4","py-1"],[3,"filtered"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture",4,"pheadTableHeaderCellFilter"],["cdkTrapFocus","",3,"cdkTrapFocusAutoCapture"],["type","search","placeholder","Type to search",3,"input","value"],[3,"filtered","sortedAsc","sortedDesc"],["color","accent",3,"value","valueChange",4,"pheadTableHeaderCellSort"],[3,"value","valueChange",4,"pheadTableHeaderCellFilter"],["color","accent",3,"valueChange","value"],["class","flex items-center gap-1",4,"pheadOption"],[1,"flex","items-center","gap-1"],[1,"icon-4","rotate-180","-scale-x-100"],[1,"text-sm/[0]","font-bold"],[1,"icon-4"],[3,"valueChange","value"],[3,"ngClass",4,"pheadDropdownTrigger"],[4,"pheadDropdownOverlay"],[3,"ngClass"],[3,"canUnset"],["rightAligned","",3,"sortedAsc","sortedDesc"],["format","yyyy-MM-dd HH:mm",3,"date"],["pheadHoverable","",3,"route","item"]],template:function(l,m){l&1&&(i(0,"phead-layered-container")(1,"div",0)(2,"div",1),_(3,"phead-breadcrumbs"),o(),i(4,"phead-sidebar-content"),s(5,Nt,14,15,"phead-table",2)(6,Rt,1,0,"mhw-armor-list-drawer-create",3),o()()())},dependencies:[O,$,L,Te,De,Fe,le,dt,Ie,he,ce,me,se,F,_e,I,Re,Ne,We,Ue,Pe,nt,Je,ot,Ye,it,rt,Ke,ze,tt,qe,Ze,et,Xe,at,ke,Ve,Le,He,B,H,V,k,M,R,fe,ue],styles:[".phead-table-column-createdAt[_ngcontent-%COMP%]{justify-content:flex-end}"]});let e=r;return e})();export{fr as ArmorListComponent};
