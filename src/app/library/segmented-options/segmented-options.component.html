<div class="@container/segmented-options">
  <div role="radiogroup" (click)="onTouched?.()">
    @for (option of options; track option.id) {
      <input #radio type="radio" [value]="option.value" [name]="name" [formControl]="formControl" (change)="handleInput()" class="hidden">
      <button
        role="radio"
        (click)="radio.click()"
        type="button"
        coreHoverable
        [attr.data-checked]="radio.checked"
        [disabled]="isDisabled"
        class="core-segmented-options-button"
        coreHardSurface
        [color]="radio.checked ? color : 'gray'"
      >
        <ng-container [ngTemplateOutlet]="option.templateRef"></ng-container>
      </button>
    }
  </div>
</div>