<div class="@container/segmented-options">
  <div role="radiogroup" (click)="onTouched?.()">
    @for (option of options; track option.id) {
      <input
        #radio
        type="radio"
        [value]="option.value"
        [name]="name"
        [formControl]="formControl"
        (change)="handleInput()"
        hidden
      >
      @if (!radio.checked) {
        <button
          role="radio"
          (click)="radio.click()"
          type="button"
          [attr.data-checked]="radio.checked"
          [disabled]="isDisabled"
          class="pui-segmented-options-button"
          puiBaseButton
        >
          <ng-container [ngTemplateOutlet]="option.templateRef"></ng-container>
        </button>
      } @else {
        <button
          role="radio"
          (click)="radio.click()"
          type="button"
          [attr.data-checked]="radio.checked"
          [disabled]="isDisabled"
          class="pui-segmented-options-button"
          puiFilledButton
          [color]="color"
        >
          <ng-container [ngTemplateOutlet]="option.templateRef"></ng-container>
        </button>
      }
    }
  </div>
</div>