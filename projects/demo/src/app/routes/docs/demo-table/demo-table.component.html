<pui-layered-container>
  <div puiSidebarContainer>
    <div puiSidebarBreadcrumbs>
      <pui-breadcrumbs></pui-breadcrumbs>
    </div>
    <pui-sidebar-content class="max-w-screen-xl">
      <div *puiSidebarMain class="flex flex-col py-6 px-8 gap-4">
        <h1 class="text-primary-700 dark:text-primary-300">Table</h1>
        <div class="w-full px-8 py-6 rounded-2 border">

          <pui-table itemHeight="48" [columns]="['name', 'height', 'mass', 'hairColor', 'eyeColor', 'gender']">
            <pui-table-header-cell *puiTableHeaderCellDef="'name'" [filtered]="filter().key === 'name'" [sortedAsc]="sort().key === 'name' && sort().direction === 'asc'" [sortedDesc]="sort().key === 'name' && sort().direction === 'desc'">
              Name
              <pui-input-field *puiTableHeaderCellFilter>
                <input type="search" [value]="filter().value" (input)="filter.set({ key: 'name', value: $any($event.currentTarget).value })">
              </pui-input-field>
              <pui-segmented-options *puiTableHeaderCellSort color="primary" [value]="sort().key === 'name' ? sort().direction : null" (valueChange)="sort.set({ key: 'name', direction: $event! })">
                <i class="icon-4 rotate-180 -scale-x-100" *puiOption="'asc'">sort</i>
                <i class="icon-4" *puiOption="'desc'">sort</i>
              </pui-segmented-options>
            </pui-table-header-cell>
            <pui-table-header-cell *puiTableHeaderCellDef="'height'" [sortedAsc]="sort().key === 'height' && sort().direction === 'asc'" [sortedDesc]="sort().key === 'height' && sort().direction === 'desc'">
              Height
              <pui-segmented-options *puiTableHeaderCellSort color="primary" [value]="sort().key === 'height' ? sort().direction : null" (valueChange)="sort.set({ key: 'height', direction: $event! })">
                <i class="icon-4 rotate-180 -scale-x-100" *puiOption="'asc'">sort</i>
                <i class="icon-4" *puiOption="'desc'">sort</i>
              </pui-segmented-options>
            </pui-table-header-cell>
            <pui-table-header-cell *puiTableHeaderCellDef="'mass'" [sortedAsc]="sort().key === 'mass' && sort().direction === 'asc'" [sortedDesc]="sort().key === 'mass' && sort().direction === 'desc'">
              Mass
              <pui-segmented-options *puiTableHeaderCellSort color="primary" [value]="sort().key === 'mass' ? sort().direction : null" (valueChange)="sort.set({ key: 'mass', direction: $event! })">
                <i class="icon-4 rotate-180 -scale-x-100" *puiOption="'asc'">sort</i>
                <i class="icon-4" *puiOption="'desc'">sort</i>
              </pui-segmented-options>
            </pui-table-header-cell>
            <pui-table-header-cell *puiTableHeaderCellDef="'hairColor'">Hair Color</pui-table-header-cell>
            <pui-table-header-cell *puiTableHeaderCellDef="'eyeColor'">Eye Color</pui-table-header-cell>
            <pui-table-header-cell *puiTableHeaderCellDef="'gender'">Gender</pui-table-header-cell>

            <pui-table-cell *puiTableCellDef="'name'; let item">{{ item.name }}</pui-table-cell>
            <pui-table-cell *puiTableCellDef="'height'; let item">{{ item.height }}</pui-table-cell>
            <pui-table-cell *puiTableCellDef="'mass'; let item">{{ item.mass }}</pui-table-cell>
            <pui-table-cell *puiTableCellDef="'hairColor'; let item">{{ item.hair_color }}</pui-table-cell>
            <pui-table-cell *puiTableCellDef="'eyeColor'; let item">{{ item.eye_color }}</pui-table-cell>
            <pui-table-cell *puiTableCellDef="'gender'; let item">{{ item.gender }}</pui-table-cell>

            <pui-table-body>
              <pui-table-header-row></pui-table-header-row>
              @for (item of filtered(); track $index) {
                <pui-table-row puiHoverable [item]="item"></pui-table-row>
              }
            </pui-table-body>
          </pui-table>

        </div>
      </div>
    </pui-sidebar-content>
  </div>
</pui-layered-container>